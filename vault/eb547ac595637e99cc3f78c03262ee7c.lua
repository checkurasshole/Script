-- Spanish Translation
-- Script ID: eb547ac595637e99cc3f78c03262ee7c
-- Updated: 2026-01-07T23:53:11.052Z
-- Auto-generated by Lua Script Vault

local existingGui = game:GetService("Players").LocalPlayer:WaitForChild("PlayerGui"):FindFirstChild("CONSOLE_GUI")
if existingGui then
    existingGui:Destroy()
end

local repo = "https://raw.githubusercontent.com/deividcomsono/Obsidian/main/"
local Library = loadstring(game:HttpGet(repo .. "Library.lua"))()
local ThemeManager = loadstring(game:HttpGet(repo .. "addons/ThemeManager.lua"))()
local SaveManager = loadstring(game:HttpGet(repo .. "addons/SaveManager.lua"))()

Library.ShowCustomCursor = false

local Window = Library:CreateWindow({
    Title = "CONSOLE VIEWER",
    Footer = "",
    Icon = 9,
    NotifySide = "Right",
    ShowCustomCursor = false,
    Center = true,
    AutoShow = true,
    Size = UDim2.new(0, 400, 0, 500),
})

local Tabs = {
    Console = Window:AddTab("Console", "terminal-square"),
    Settings = Window:AddTab("Settings", "settings"),
}

local LogService = game:GetService("LogService")
local consoleLogs = {}
local maxLogs = 500
local autoScroll = true
local showTimestamp = true
local filterType = "All"

local ConsoleBox = Tabs.Console:AddLeftGroupbox("Output")

local logDisplay = ConsoleBox:AddLabel("")

local function getTimestamp()
    local now = os.date("*t")
    return string.format("[%02d:%02d:%02d]", now.hour, now.min, now.sec)
end

local function formatLog(message, messageType, timestamp)
    local prefix = ""
    local color = "white"
    
    if messageType == Enum.MessageType.MessageOutput then
        prefix = "[OUTPUT]"
        color = "white"
    elseif messageType == Enum.MessageType.MessageWarning then
        prefix = "[WARN]"
        color = "#FFA500"
    elseif messageType == Enum.MessageType.MessageError then
        prefix = "[ERROR]"
        color = "#FF4444"
    elseif messageType == Enum.MessageType.MessageInfo then
        prefix = "[INFO]"
        color = "#4444FF"
    end
    
    local timeStr = timestamp and (getTimestamp() .. " ") or ""
    return string.format('<font color="%s">%s%s %s</font>', color, timeStr, prefix, message)
end

local function updateDisplay()
    local displayText = {}
    local count = 0
    
    for i = #consoleLogs, 1, -1 do
        local log = consoleLogs[i]
        if filterType == "All" or log.type == filterType then
            table.insert(displayText, log.formatted)
            count = count + 1
            if count >= 100 then break end
        end
    end
    
    local reversed = {}
    for i = #displayText, 1, -1 do
        table.insert(reversed, displayText[i])
    end
    
    logDisplay:SetText(table.concat(reversed, "\n"))
end

local function addLog(message, messageType)
    table.insert(consoleLogs, {
        message = message,
        type = messageType,
        formatted = formatLog(message, messageType, showTimestamp),
        timestamp = os.time()
    })
    
    if #consoleLogs > maxLogs then
        table.remove(consoleLogs, 1)
    end
    
    updateDisplay()
end

local function clearLogs()
    consoleLogs = {}
    updateDisplay()
end

local function refreshLogs()
    for i, log in ipairs(consoleLogs) do
        log.formatted = formatLog(log.message, log.type, showTimestamp)
    end
    updateDisplay()
end

ConsoleBox:AddButton({
    Text = "Clear Console",
    Func = clearLogs
})

ConsoleBox:AddButton({
    Text = "Refresh Display",
    Func = refreshLogs
})

ConsoleBox:AddDivider()

ConsoleBox:AddDropdown("FilterType", {
    Values = {"All", "Output", "Warning", "Error", "Info"},
    Default = "All",
    Multi = false,
    Text = "Filter Type",
    Callback = function(Value)
        if Value == "Output" then
            filterType = Enum.MessageType.MessageOutput
        elseif Value == "Warning" then
            filterType = Enum.MessageType.MessageWarning
        elseif Value == "Error" then
            filterType = Enum.MessageType.MessageError
        elseif Value == "Info" then
            filterType = Enum.MessageType.MessageInfo
        else
            filterType = "All"
        end
        updateDisplay()
    end
})

local SettingsBox = Tabs.Settings:AddLeftGroupbox("Display Settings")

SettingsBox:AddToggle("ShowTimestamp", {
    Text = "Show Timestamps",
    Default = true,
    Callback = function(Value)
        showTimestamp = Value
        refreshLogs()
    end
})

SettingsBox:AddToggle("AutoScroll", {
    Text = "Auto Scroll",
    Default = true,
    Callback = function(Value)
        autoScroll = Value
    end
})

SettingsBox:AddSlider("MaxLogs", {
    Text = "Max Logs",
    Default = 500,
    Min = 100,
    Max = 2000,
    Rounding = 100,
    Compact = false,
    Callback = function(Value)
        maxLogs = Value
    end
})

SettingsBox:AddDivider()

SettingsBox:AddButton({
    Text = "Export Logs (Print to Console)",
    Func = function()
        print("=== CONSOLE LOGS EXPORT ===")
        for i, log in ipairs(consoleLogs) do
            print(log.message)
        end
        print("=== END OF EXPORT ===")
    end
})

local MenuGroup = Tabs.Settings:AddRightGroupbox("UI Settings")

MenuGroup:AddToggle("KeybindMenuOpen", {
    Default = Library.KeybindFrame.Visible,
    Text = "Keybind Menu",
    Callback = function(value)
        Library.KeybindFrame.Visible = value
    end
})

MenuGroup:AddDropdown("NotificationSide", {
    Values = {"Left", "Right"},
    Default = "Right",
    Text = "Notification Side",
    Callback = function(Value)
        Library:SetNotifySide(Value)
    end
})

MenuGroup:AddDivider()

MenuGroup:AddLabel("Menu bind"):AddKeyPicker("MenuKeybind", {
    Default = "RightShift",
    NoUI = true,
    Text = "Menu bind"
})

MenuGroup:AddButton("Unload GUI", function()
    Library:Unload()
end)

Library.ToggleKeybind = Library.Options.MenuKeybind

ThemeManager:SetLibrary(Library)
SaveManager:SetLibrary(Library)
SaveManager:IgnoreThemeSettings()
SaveManager:SetIgnoreIndexes({"MenuKeybind"})

ThemeManager:SetFolder("CONSOLE_GUI")
SaveManager:SetFolder("CONSOLE_GUI/config")

SaveManager:BuildConfigSection(Tabs.Settings)
ThemeManager:ApplyToTab(Tabs.Settings)

LogService.MessageOut:Connect(function(message, messageType)
    addLog(message, messageType)
end)

local history = LogService:GetLogHistory()
for i, entry in ipairs(history) do
    addLog(entry.message, entry.messageType)
end

Library:Notify({
    Title = "Console Viewer Ready",
    Content = "Capturing all console output",
    Duration = 5
})

SaveManager:LoadAutoloadConfig()