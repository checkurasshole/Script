-- Protected Script (Vietnamese)
-- Script ID: 8bec22251dc05deab0cd096064712faa
-- Created: 2025-10-10T17:13:44.671Z
-- Source: External API
-- Auto-generated by Lua Script Vault

-- Load the module from GitHub
local ModuleFunctions = loadstring(game:HttpGet("https://raw.githubusercontent.com/checkurasshole/PET/refs/heads/main/COPS"))()

-- Load Fluent UI
local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()
local Window = Fluent:CreateWindow({
    Title = "COMBO_BẤC",
    SubTitle = "",
    TabWidth = 160,
    Size = UDim2.fromOffset(400, 350),
    Acrylic = true,
    Theme = "Dark",
    MinimizeKey = Enum.KeyCode.LeftControl
})

local Tabs = {
    Main = Window:AddTab({ Title = "Chính", Icon = "home" }),
    PrivateServer = Window:AddTab({ Title = "Máy chủ SIP cá nhân", Icon = "lock" })
}

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local TeleportService = game:GetService("TeleportService")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

local infMoneyActivated = false
local saveFileName = "InfMoneyActivated_" .. LocalPlayer.UserId .. ".txt"

if isfile and readfile and isfile(saveFileName) then
    infMoneyActivated = readfile(saveFileName) == "true"
end

local walkspeedEnabled = false
local walkspeedConnection = nil

Tabs.Main:AddToggle("Walkspeed", {
    Title = "Tốc độ đi bộ (100)",
    Default = false,
    Callback = function(v)
        walkspeedEnabled = v
        
        if walkspeedConnection then
            walkspeedConnection:Disconnect()
            walkspeedConnection = nil
        end
        
        if walkspeedEnabled then
            walkspeedConnection = RunService.Heartbeat:Connect(function()
                local char = LocalPlayer.Character
                if char and char:FindFirstChild("Humanoid") then
                    char.Humanoid.WalkSpeed = 100
                end
            end)
        else
            local char = LocalPlayer.Character
            if char and char:FindFirstChild("Humanoid") then
                char.Humanoid.WalkSpeed = 16
            end
        end
    end
})

Tabs.Main:AddButton({
    Title = infMoneyActivated and "Inf Money (Already Activated)" or "Activate Inf Money",
    Callback = function()
        if infMoneyActivated then
            return
        end
        
        ModuleFunctions.ActivateInfMoney()
        
        if writefile then
            writefile(saveFileName, "true")
        end
        
        task.wait(1)
        TeleportService:Teleport(game.PlaceId, LocalPlayer)
    end
})

local autoTrain = false
local trainConnection = nil

Tabs.Main:AddToggle("AutoTrain", {
    Title = "Bắt đầu đào tạo",
    Default = false,
    Callback = function(value)
        autoTrain = value
        
        if trainConnection then
            task.cancel(trainConnection)
            trainConnection = nil
        end
        
        if autoTrain then
            trainConnection = task.spawn(function()
                while autoTrain do
                    for j = 1, 10 do
                        if not autoTrain then break end
                        ModuleFunctions.ApplyTraining(j)
                    end
                    task.wait(0.1)
                end
            end)
        end
    end
})

local autoRebirth = false
local rebirthConnection = nil

Tabs.Main:AddToggle("AutoRebirth", {
    Title = "Bắt đầu đi lên",
    Default = false,
    Callback = function(value)
        autoRebirth = value
        
        if rebirthConnection then
            task.cancel(rebirthConnection)
            rebirthConnection = nil
        end
        
        if autoRebirth then
            rebirthConnection = task.spawn(function()
                while autoRebirth do
                    ModuleFunctions.ApplyRebirth(LocalPlayer)
                    task.wait(1)
                end
            end)
        end
    end
})

local accessCodeCache = ""

Tabs.PrivateServer:AddButton({
    Title = "Tạo mã truy cập",
    Callback = function()
        local accessCode, gameCode = ModuleFunctions.GenerateReservedServerCode(game.PlaceId)
        accessCodeCache = accessCode
    end
})

Tabs.PrivateServer:AddButton({
    Title = "Tham gia máy chủ riêng",
    Callback = function()
        if accessCodeCache ~= "" then
            ModuleFunctions.JoinPrivateServer(game.PlaceId, accessCodeCache)
        end
    end
})

Tabs.PrivateServer:AddButton({
    Title = "Sao chép mã truy cập",
    Callback = function()
        if accessCodeCache ~= "" then
            if setclipboard then
                setclipboard(accessCodeCache)
            end
        end
    end
})

player.CharacterAdded:Connect(function(char)
    character = char
    humanoidRootPart = char:WaitForChild("HumanoidRootPart")
end)